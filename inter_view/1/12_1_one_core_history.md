# История проблемы: Одно ядро и многозадачность

## Эпоха одноядерных процессоров

Ранние компьютеры имели только одно центральное процессорное ядро. Это означало, что в любой момент времени процессор мог выполнять только одну задачу. Однако пользователям нужно было запускать несколько программ одновременно, например, **Косынку** и **браузер**. Как же это было возможно?

## Принципы многозадачности на одном ядре

### Вытесняющая многозадачность (Preemptive multitasking)
Система позволяла «каждой программе» захватывать процессор на короткий промежуток времени. Операционная система (например, Windows) могла приостановить выполнение одной программы и переключить процессор на выполнение другой. Для пользователя это выглядело как одновременная работа обеих программ, но на самом деле процессор переключался между задачами.

### Пример: Запуск Косынки и браузера на одном ядре
1. **Косынка** выполнялась в один момент времени.
2. Операционная система временно приостанавливала выполнение Косынки, и начинала выполнять **браузер**.
3. Постоянное переключение между Косынкой и браузером создавало иллюзию одновременной работы программ.

### Как это работает:
- **Контекст переключения**: Когда операционная система решает, что пришло время переключить задачи, она сохраняет текущее состояние (регистры, стек, адрес памяти) первой программы и загружает состояние второй.
- **Тайм-слоты**: Каждой программе выделяется крошечный тайм-слот (например, 10-100 миллисекунд). Этого достаточно, чтобы интерфейсы программ оставались отзывчивыми.

### Вытесняющая многозадачность в реальности:
Допустим, вы играете в Косынку и загружаете страницу в браузере. Пока страница загружается (сетевые операции), процессор освобождается, и операционная система даёт процессорное время Косынке. Как только данные в браузере поступают, система может снова переключить управление на браузер. Это чередование происходит сотни раз в секунду, и пользователю кажется, что обе программы работают параллельно.

## Заключение
На одноядерных системах невозможна реальная параллельная работа программ. Однако благодаря вытесняющей многозадачности операционная система создаёт иллюзию одновременной работы, постоянно переключая процессор между задачами.

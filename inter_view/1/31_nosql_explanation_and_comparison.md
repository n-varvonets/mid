# NoSQL, JSON и BASE

### Коллекции вместо таблиц

В большинстве **NoSQL** баз данных, таких как MongoDB (Elasticsearch), используются **коллекции** вместо таблиц (или индексы в случае Elasticsearch). В реляционных базах данных (SQL) данные хранятся в таблицах с фиксированной схемой. В NoSQL данных нет строгой схемы, и вместо таблиц используются коллекции или индексы, где каждый документ может иметь разную структуру.

### Почему лучше хранить JSON в NoSQL, чем в PostgreSQL?

Хотя PostgreSQL поддерживает тип данных **JSON**, есть несколько причин, почему NoSQL базы данных, такие как MongoDB или Elasticsearch, могут быть более удобны для хранения JSON-документов:

1. **Гибкость схемы**: В MongoDB каждый документ в коллекции может иметь разную структуру, в то время как в PostgreSQL работа с неструктурированными данными может быть не такой гибкой.
2. **Масштабируемость**: MongoDB и другие NoSQL базы данных, такие как Elasticsearch, масштабируются горизонтально (добавление серверов для увеличения производительности).
3. **Производительность**: NoSQL базы данных оптимизированы для работы с большими объёмами неструктурированных данных и высоких нагрузок на чтение/запись JSON-документов.
4. **Простота работы с JSON**: NoSQL базы предоставляют более удобные механизмы для работы с JSON, такие как встроенные инструменты для поиска и обновления JSON-документов.

### BASE в NoSQL

NoSQL системы часто используют модель **BASE** (в отличие от ACID):

| Модель    | Описание |
|-----------|----------|
| **Basically Available** | Данные всегда доступны, но могут быть временно несогласованными. |
| **Soft state** | Состояние системы может изменяться со временем, даже без запросов. |
| **Eventual consistency** | Согласованность данных достигается через некоторое время. |

**BASE** жертвует строгими гарантиями консистентности для повышения производительности и масштабируемости. Некоторые NoSQL базы данных (например, MongoDB с версии 4.0) поддерживают ACID-транзакции, но большинство ориентируются на BASE.

### Elasticsearch и индексы

В **Elasticsearch** используются **индексы** для хранения данных, аналогичные коллекциям в MongoDB. Индекс — это контейнер для документов, а документы могут иметь различные структуры. Elasticsearch оптимизирован для работы с большими объёмами данных и поиска по ним.

### Сравнение SQL и NoSQL баз данных:

| Характеристика                 | SQL базы данных                | NoSQL базы данных              |
|--------------------------------|---------------------------------|---------------------------------|
| **Структура данных**           | Таблицы с фиксированной схемой  | Гибкая схема или её отсутствие  |
| **Тип данных**                 | Структурированные данные        | Неструктурированные данные      |
| **Масштабируемость**           | Вертикальная                    | Горизонтальная                  |
| **Запросы**                    | Мощные SQL-запросы              | Ограниченные запросы            |
| **Транзакции**                 | ACID                           | BASE (с возможностью ACID)      |
| **Примеры баз данных**         | MySQL, PostgreSQL, Oracle       | MongoDB, Cassandra, Elasticsearch |
